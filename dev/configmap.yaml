hostname: bigbang.dev

flux:
  interval: 1m
  rollback:
    cleanupOnFail: false

clusterAuditor:
  enabled: false

gatekeeper:
  enabled: false
  values:
    replicas: 1

istio:
  enabled: true
  values:
    kiali:
      dashboard:
        auth:
          strategy: anonymous
    ingressGateway:
      serviceAnnotations:
        # Ensure mission apps have internal load balancer only
        service.beta.kubernetes.io/aws-load-balancer-internal: "true"
        # Enable cross zone load balancing
        service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
    tls:
      mode: PASSTHROUGH


logging:
  enabled: false
  values:
    elasticsearch:
      master:
        count: 1
        persistence:
          size: 5Gi
        resources:
          limits:
            cpu: 1
            memory: 3Gi
      data:
        count: 1
        persistence:
          size: 5Gi
        resources:
          limits:
            cpu: 1
            memory: 3Gi

eckoperator:
  enabled: false

fluentbit:
  enabled: false

monitoring:
  enabled: true

twistlock:
  enabled: false
  values:
    console:
      persistence:
        size: 5Gi

minio:
  enabled: false

# Gloabl SSO parameters
sso:
  oidc:
    host: login.dso.mil
    realm: baby-yoda
  client_secret: ""

addons:

  gitlabRunner:
    enabled: false

  gitlab:
    enabled: false
    hostnames:
      gitlab: gitlab.bigbang.dev
      registry: registry.bigbang.dev
    sso:
      enabled: true
      label: "Platform One SSO"
      client_id: "platform1_a8604cc9-f5e9-4656-802d-d05624370245_bb8-gitlab"
      client_secret: ""
    # database:
    #   host: postgres-postgresql-headless.postgres.svc.cluster.local
    #   port: 5432
    #   username: postgres
    #   database: postgres
    #   password: postgres
    # objectStorage:
    #   type: minio
    #   endpoint: http://minio.minio.svc.cluster.local:9000
    #   region: us-west-1
    #   accessKey: myaccesskey
    #   accessSecret: mysecretkey
    #   bucketPrefix: kwilder
    # objectStorage:
    #   type: s3
    #   endpoint: https://s3.amazonaws.com
    #   region: us-gov-west-1
    #   # accessKey: myaccesskey
    #   # accessSecret: mysecretkey
    #   bucketPrefix: kwilder

    # mattermostoperator:
    #   enabled: true
    
    # mattermost:
    #   enabled: true
    #   sso:
    #     enabled: true
    #     client_id: "platform1_a8604cc9-f5e9-4656-802d-d05624370245_bb8-mattermost"
    #     client_secret: "no-secret"
    #     auth_endpoint: "https://login.dso.mil/oauth/authorize"
    #     token_endpoint: "https://login.dso.mil/oauth/token"
    #     user_api_endpoint: "https://login.dso.mil/api/v4/user"

    # values: 
    #   global:
    #     pages:
    #       enabled: true
    #     psql:
    #       host:  testdb.io
    #       port: 7777
    #       username: postgres2
    #       database: postgres2
          # password:
          #   secret: gitlab-database2
          #   key: PGPASSWORD2
        # appConfig:
        #   omniauth:
            # enabled: true
            # allowSingleSignOn: ['blah']
            # blockAutoCreatedUsers: true
            # autoLinkSamlUser: true